@page
@model LearningSite.Web.Pages.Account.SignupModel
@{
    ViewData["MenuSelected"] = "Signup";
}

<div class="container" style="height: 80vh;">
    <div class="row justify-content-center align-content-center flex-column" style="height: 80vh;">
        <div class="col-xl-4 col-lg-5 col-md-8 col-9 justify-content-center align-content-center">
            <div class="base-block p-4">
                <p class="h2">Sign Up</p>
                <form method="POST">
                    <div class="form-group">
                        <input type="text" class="form-control" asp-for="Vm.Name" placeholder="Name" />
                        <span class="text text text-danger" asp-validation-for="Vm.Name"></span>
                    </div>
                    <div class="form-group">
                        <input type="email" class="form-control" asp-for="Vm.EmailAddress" placeholder="Email" />
                        <span class="text text-danger" asp-validation-for="Vm.EmailAddress"></span>
                    </div>
                    <div class="form-group">
                        <input class="form-control" asp-for="Vm.Password" placeholder="Password" type="password" />
                        <span class="text text-danger" asp-validation-for="Vm.Password"></span>
                    </div>
                    <div class="form-group mb-5">
                        <select class="form-control form-select" asp-for="Vm.TimeZoneId" asp-items="Model.TimeZoneList" id="time-zone-id">
                            <option value="">Select Time Zone</option>
                        </select>
                        <span class="text text-danger" asp-validation-for="Vm.TimeZoneId"></span>
                    </div>
                    <div class="d-flex flex-row justify-content-between">
                        <button type="submit" class="btn-primary">
                            Sign Up
                        </button>
                        <a class="btn-secondary text-decoration-none" asp-area="" asp-page="/Account/Login">
                            I already have account
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @if (String.IsNullOrWhiteSpace(Model.Vm.TimeZoneId))
    {
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.2/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.34/moment-timezone-with-data.min.js"></script>
<script type="text/javascript">
    var ianaTz = moment.tz.guess();
    if (ianaTz) {
        document.querySelector("#time-zone-id").value = ianaTz;
    }
</script>
    }
}
